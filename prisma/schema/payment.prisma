model Payment {
    id              String        @id @default(uuid())
    orderId         String        @unique
    amountCents     Int
    status          PaymentStatus @default(UNPAID)
    transactionId   String        @unique
    paymentIntent   String?
    expiresAt       DateTime?
    stripeSessionId String?
    paymentUrl      String?
    errorMessage    String?
    attempts        Int           @default(0)
    createdAt       DateTime      @default(now())
    updatedAt       DateTime      @updatedAt
    stripeEventId   String?       @unique

    order Order @relation(fields: [orderId], references: [id])

    @@index([status])
    @@map("payments")
}

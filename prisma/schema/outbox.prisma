model OutboxEvent {
  id          String   @id @default(uuid())
  topic       String
  payload     Json
  processed   Boolean  @default(false)
  attempts    Int      @default(0)
  error       String?
  deadLetter   Boolean  @default(false)
  deadLetterAt DateTime?
  deadLetterReason String?
  deadLetterResolvedAt DateTime?
  claimedAt   DateTime?
  claimedBy   String?
  createdAt   DateTime @default(now())
  processedAt DateTime?

  @@index([processed, attempts])
  @@map("outbox_events")
}
